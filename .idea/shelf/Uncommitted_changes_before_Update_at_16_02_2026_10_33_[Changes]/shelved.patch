Index: src/Main.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.sql.Date;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    static Scanner sc = new Scanner(System.in);\r\n\r\n    public static void main(String[] args) {\r\n        char again = 'y';\r\n        while (again == 'y' || again == 'Y') {\r\n            principalMenu();\r\n            int choice = sc.nextInt();\r\n            sc.nextLine(); // consume newline\r\n            switch (choice) {\r\n                case 1 -> gestionFactures();\r\n                case 2 -> gestionPaiements();\r\n                case 3 -> gestionPrestataires();\r\n                case 4 -> gestionHistorique();\r\n                default -> System.out.println(\"Invalid choice!\");\r\n            }\r\n            System.out.println(\"Retour au menu principal ? y/n\");\r\n            again = sc.next().charAt(0);\r\n        }\r\n    }\r\n\r\n    public static void principalMenu() {\r\n        System.out.println(\"===== Menu Principal FinPay =====\");\r\n        System.out.println(\"1. Gestion des Factures\");\r\n        System.out.println(\"2. Gestion des Paiements\");\r\n        System.out.println(\"3. Gestion des Prestataires\");\r\n        System.out.println(\"4. Gestion de l’Historique\");\r\n    }\r\n\r\n    public static void gestionFactures() {\r\n        System.out.println(\"===== Gestion des Factures =====\");\r\n        System.out.println(\"1. Ajouter Facture\");\r\n        System.out.println(\"2. Afficher Factures\");\r\n        System.out.println(\"3. Mettre à jour Statut Facture\");\r\n        System.out.println(\"4. Supprimer Facture\");\r\n\r\n        int choice = sc.nextInt(); sc.nextLine();\r\n        switch (choice) {\r\n            case 1 -> addFacture();\r\n            case 2 -> displayFactures();\r\n            case 3 -> updateFacture();\r\n            case 4 -> deleteFacture();\r\n        }\r\n    }\r\n\r\n\r\n    public static void gestionPaiements() {\r\n        System.out.println(\"===== Gestion des Paiements =====\");\r\n        System.out.println(\"1. Ajouter Paiement\");\r\n        System.out.println(\"2. Afficher Paiements\");\r\n        System.out.println(\"3. Mettre à jour Paiement\");\r\n\r\n        int choice = sc.nextInt(); sc.nextLine();\r\n        switch (choice) {\r\n            case 1 -> addPayment();\r\n            case 2 -> displayPayments();\r\n            case 3 -> updatePayment();\r\n        }\r\n    }\r\n    public static void gestionPrestataires() {\r\n        System.out.println(\"===== Gestion des Prestataires =====\");\r\n        System.out.println(\"1. Ajouter Prestataire\");\r\n        System.out.println(\"2. Afficher Prestataires\");\r\n        System.out.println(\"3. Mettre à jour Prestataire\");\r\n        System.out.println(\"4. Supprimer Prestataire\");\r\n\r\n        int choice = sc.nextInt(); sc.nextLine();\r\n        switch (choice) {\r\n            case 1 -> addPrestataire();\r\n            case 2 -> displayPrestataires();\r\n            case 3 -> updatePrestataire();\r\n            case 4 -> deletePrestataire();\r\n        }\r\n    }\r\n    public static void gestionHistorique() {\r\n        System.out.println(\"===== Gestion de l’Historique =====\");\r\n        System.out.println(\"1. Ajouter Transaction\");\r\n        System.out.println(\"2. Afficher Transactions\");\r\n        System.out.println(\"3. Mettre à jour Transaction\");\r\n        System.out.println(\"4. Supprimer Transaction\");\r\n\r\n        int choice = sc.nextInt(); sc.nextLine();\r\n        switch (choice) {\r\n            case 1 -> addTransaction();\r\n            case 2 -> displayTransactions();\r\n            case 3 -> updateTransaction();\r\n            case 4 -> deleteTransaction();\r\n        }\r\n    }\r\n    public static void addFacture() {\r\n        System.out.println(\"Enter client ID:\");\r\n        int idClient = sc.nextInt();\r\n        System.out.println(\"Enter prestataire ID:\");\r\n        int idPrestataire = sc.nextInt();\r\n        System.out.println(\"Enter montant:\");\r\n        double montant = sc.nextDouble();\r\n        sc.nextLine();\r\n        System.out.println(\"Enter facture date (yyyy-mm-dd):\");\r\n        String dateStr = sc.nextLine();\r\n        Date dateFacture = Date.valueOf(dateStr);\r\n        FactureDAO.addFacture(idClient, idPrestataire, montant, Statut.NON_PAYEE, dateFacture);\r\n    }\r\n    public static void displayFactures() { FactureDAO.getAllFactures().forEach(System.out::println); }\r\n    public static void updateFacture() {\r\n        System.out.println(\"Enter facture ID:\");\r\n        int id = sc.nextInt(); sc.nextLine();\r\n        System.out.println(\"Enter new statut (NON_PAYEE, PARTIELLE, PAYEE):\");\r\n        String statut = sc.nextLine();\r\n        FactureDAO.updateFactureStatut(id, Statut.valueOf(statut));\r\n    }\r\n    public static void deleteFacture() {\r\n        System.out.println(\"Enter facture ID:\");\r\n        int id = sc.nextInt();\r\n        FactureDAO.deleteFacture(id);\r\n    }\r\n    public static void addPayment() {\r\n        System.out.println(\"Enter facture ID:\");\r\n        int idFacture = sc.nextInt();\r\n        System.out.println(\"Enter montant payé:\");\r\n        double montant = sc.nextDouble();\r\n        System.out.println(\"Enter commission:\");\r\n        double commission = sc.nextDouble();\r\n        PaymentDAO.addPayment(idFacture, montant, commission);\r\n    }\r\n    public static void displayPayments() {\r\n        PaymentDAO.getAllPayments().forEach(System.out::println);\r\n    }\r\n    public static void updatePayment() {\r\n        System.out.println(\"Enter payment ID:\");\r\n        int id = sc.nextInt();\r\n        System.out.println(\"Enter new montant:\");\r\n        double montant = sc.nextDouble();\r\n        System.out.println(\"Enter new commission:\");\r\n        double commission = sc.nextDouble();\r\n        PaymentDAO.updatePayment(id, montant, commission);\r\n    }\r\n\r\n\r\n\r\n    public static void addPrestataire() {\r\n        System.out.println(\"Enter prestataire name:\");\r\n        String name = sc.nextLine();\r\n        PrestataireDAO.addPrestataire(name);\r\n    }\r\n    public static void displayPrestataires() {\r\n        PrestataireDAO.getAllPrestataires().forEach(System.out::println);\r\n    }\r\n    public static void updatePrestataire() {\r\n        System.out.println(\"Enter prestataire ID:\");\r\n        int id = sc.nextInt(); sc.nextLine();\r\n        System.out.println(\"Enter new name:\");\r\n        String name = sc.nextLine();\r\n        PrestataireDAO.updatePrestataire(id, name);\r\n    }\r\n    public static void deletePrestataire() {\r\n        System.out.println(\"Enter prestataire ID:\");\r\n        int id = sc.nextInt();\r\n        PrestataireDAO.deletePrestataire(id);\r\n    }\r\n\r\n\r\n    public static void addTransaction() {\r\n        System.out.println(\"Enter type of operation:\");\r\n        String type = sc.nextLine();\r\n        HistoriqueTransactionDAO.addTransaction(type);\r\n    }\r\n    public static void displayTransactions() { HistoriqueTransactionDAO.getAllTransactions().forEach(System.out::println); }\r\n    public static void updateTransaction() {\r\n        System.out.println(\"Enter transaction ID:\");\r\n        int id = sc.nextInt(); sc.nextLine();\r\n        System.out.println(\"Enter new type:\");\r\n        String type = sc.nextLine();\r\n        HistoriqueTransactionDAO.updateTransaction(id, type);\r\n    }\r\n    public static void deleteTransaction() {\r\n        System.out.println(\"Enter transaction ID:\");\r\n        int id = sc.nextInt();\r\n        HistoriqueTransactionDAO.deleteTransaction(id);\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Main.java b/src/Main.java
--- a/src/Main.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/Main.java	(date 1771237653893)
@@ -11,49 +11,80 @@
             int choice = sc.nextInt();
             sc.nextLine(); // consume newline
             switch (choice) {
-                case 1 -> gestionFactures();
-                case 2 -> gestionPaiements();
-                case 3 -> gestionPrestataires();
-                case 4 -> gestionHistorique();
+                case 1 -> gestionClients();
+                case 2 -> gestionFactures();
+                case 3 -> gestionPaiements();
+                case 4 -> gestionPrestataires();
+                case 5 -> Historique();
                 default -> System.out.println("Invalid choice!");
             }
             System.out.println("Retour au menu principal ? y/n");
             again = sc.next().charAt(0);
         }
     }
-
+    private static void Historique() {
+        System.out.println("       ===== Historique =====");
+        System.out.println("\tTotal payments: " + PaymentDAO.getTotalMontantPaye());
+        System.out.println("\tTotal commission: " + PaymentDAO.getTotalCommission());
+        System.out.println("\tTotal facture payee: " + FactureDAO.getTotalFacturesPayee());
+        System.out.println("\tTotal facture non-payee: " + FactureDAO.getTotalFacturesNonPayee());
+    }
+    public static void gestionClients() {
+        System.out.println("===== Gestion des Clients =====");
+        System.out.println("1. Ajouter Client");
+        System.out.println("2. Afficher Clients");
+        System.out.println("3. Mettre à jour Client");
+        System.out.println("4. Supprimer Client");
+        System.out.println("5. Rechercher Client par ID");
+        int choice = sc.nextInt();
+        sc.nextLine();
+        switch (choice) {
+            case 1 -> addClient();
+            case 2 -> displayClients();
+            case 3 -> updateClient();
+            case 4 -> deleteClient();
+            case 5 -> searchClientById();
+        }
+    }
     public static void principalMenu() {
         System.out.println("===== Menu Principal FinPay =====");
-        System.out.println("1. Gestion des Factures");
-        System.out.println("2. Gestion des Paiements");
-        System.out.println("3. Gestion des Prestataires");
-        System.out.println("4. Gestion de l’Historique");
+        System.out.println("1. Gestion des Clients");
+        System.out.println("2. Gestion des Factures");
+        System.out.println("3. Gestion des Paiements");
+        System.out.println("4. Gestion des Prestataires");
+        System.out.println("5. Affichage de l'Historique");
     }
-
     public static void gestionFactures() {
         System.out.println("===== Gestion des Factures =====");
         System.out.println("1. Ajouter Facture");
         System.out.println("2. Afficher Factures");
         System.out.println("3. Mettre à jour Statut Facture");
         System.out.println("4. Supprimer Facture");
+        System.out.println("5. Rechercher Factures par Statut");
 
-        int choice = sc.nextInt(); sc.nextLine();
+        int choice = sc.nextInt();
+        sc.nextLine();
         switch (choice) {
             case 1 -> addFacture();
             case 2 -> displayFactures();
             case 3 -> updateFacture();
             case 4 -> deleteFacture();
+            case 5 -> searchFacturesByStatut();
         }
     }
-
-
+    private static void searchFacturesByStatut() {
+        System.out.println("Enter statut (NON_PAYEE, PARTIELLE, PAYEE):");
+        String statut = sc.nextLine();
+        FactureDAO.searchFacturesByStatut(statut);
+    }
     public static void gestionPaiements() {
         System.out.println("===== Gestion des Paiements =====");
         System.out.println("1. Ajouter Paiement");
         System.out.println("2. Afficher Paiements");
         System.out.println("3. Mettre à jour Paiement");
 
-        int choice = sc.nextInt(); sc.nextLine();
+        int choice = sc.nextInt();
+        sc.nextLine();
         switch (choice) {
             case 1 -> addPayment();
             case 2 -> displayPayments();
@@ -66,30 +97,45 @@
         System.out.println("2. Afficher Prestataires");
         System.out.println("3. Mettre à jour Prestataire");
         System.out.println("4. Supprimer Prestataire");
+        System.out.println("5. Rechercher Prestataire");
 
-        int choice = sc.nextInt(); sc.nextLine();
+        int choice = sc.nextInt();
+        sc.nextLine();
         switch (choice) {
             case 1 -> addPrestataire();
             case 2 -> displayPrestataires();
             case 3 -> updatePrestataire();
             case 4 -> deletePrestataire();
+            case 5 -> rechercherPrestataire();
+
         }
     }
-    public static void gestionHistorique() {
-        System.out.println("===== Gestion de l’Historique =====");
-        System.out.println("1. Ajouter Transaction");
-        System.out.println("2. Afficher Transactions");
-        System.out.println("3. Mettre à jour Transaction");
-        System.out.println("4. Supprimer Transaction");
-
-        int choice = sc.nextInt(); sc.nextLine();
-        switch (choice) {
-            case 1 -> addTransaction();
-            case 2 -> displayTransactions();
-            case 3 -> updateTransaction();
-            case 4 -> deleteTransaction();
-        }
+    public static void addClient(){
+        System.out.println("Enter client name:");
+        String name = sc.nextLine();
+        ClientDAO.addClient(name);
+    }
+    public static void displayClients(){
+        ClientDAO.getAllClients();
     }
+    public static void updateClient() {
+        System.out.println("Enter client ID:");
+        int id = sc.nextInt();
+        sc.nextLine();
+        System.out.println("Enter new name:");
+        String name = sc.nextLine();
+        ClientDAO.updateClient(id, name);
+    }
+    public static void deleteClient(){
+        System.out.println("Enter client ID:");
+        int id = sc.nextInt();
+        ClientDAO.deleteClient(id);
+    }
+    public static void searchClientById(){
+        System.out.println("Enter client ID:");
+        int id = sc.nextInt();
+        ClientDAO.findClientById(id);
+    }
     public static void addFacture() {
         System.out.println("Enter client ID:");
         int idClient = sc.nextInt();
@@ -103,10 +149,13 @@
         Date dateFacture = Date.valueOf(dateStr);
         FactureDAO.addFacture(idClient, idPrestataire, montant, Statut.NON_PAYEE, dateFacture);
     }
-    public static void displayFactures() { FactureDAO.getAllFactures().forEach(System.out::println); }
+    public static void displayFactures() {
+        FactureDAO.getAllFactures();
+    }
     public static void updateFacture() {
         System.out.println("Enter facture ID:");
-        int id = sc.nextInt(); sc.nextLine();
+        int id = sc.nextInt();
+        sc.nextLine();
         System.out.println("Enter new statut (NON_PAYEE, PARTIELLE, PAYEE):");
         String statut = sc.nextLine();
         FactureDAO.updateFactureStatut(id, Statut.valueOf(statut));
@@ -126,7 +175,7 @@
         PaymentDAO.addPayment(idFacture, montant, commission);
     }
     public static void displayPayments() {
-        PaymentDAO.getAllPayments().forEach(System.out::println);
+        PaymentDAO.getAllPayments();
     }
     public static void updatePayment() {
         System.out.println("Enter payment ID:");
@@ -137,47 +186,32 @@
         double commission = sc.nextDouble();
         PaymentDAO.updatePayment(id, montant, commission);
     }
-
-
-
     public static void addPrestataire() {
         System.out.println("Enter prestataire name:");
         String name = sc.nextLine();
-        PrestataireDAO.addPrestataire(name);
+        PrestataireDAO.save(name);
     }
     public static void displayPrestataires() {
-        PrestataireDAO.getAllPrestataires().forEach(System.out::println);
+        PrestataireDAO.findAll();
     }
     public static void updatePrestataire() {
         System.out.println("Enter prestataire ID:");
-        int id = sc.nextInt(); sc.nextLine();
+        int id = sc.nextInt();
+        sc.nextLine();
         System.out.println("Enter new name:");
         String name = sc.nextLine();
-        PrestataireDAO.updatePrestataire(id, name);
+        PrestataireDAO.update(id, name);
     }
     public static void deletePrestataire() {
         System.out.println("Enter prestataire ID:");
         int id = sc.nextInt();
-        PrestataireDAO.deletePrestataire(id);
-    }
-
-
-    public static void addTransaction() {
-        System.out.println("Enter type of operation:");
-        String type = sc.nextLine();
-        HistoriqueTransactionDAO.addTransaction(type);
+        PrestataireDAO.delete(id);
     }
-    public static void displayTransactions() { HistoriqueTransactionDAO.getAllTransactions().forEach(System.out::println); }
-    public static void updateTransaction() {
-        System.out.println("Enter transaction ID:");
-        int id = sc.nextInt(); sc.nextLine();
-        System.out.println("Enter new type:");
-        String type = sc.nextLine();
-        HistoriqueTransactionDAO.updateTransaction(id, type);
-    }
-    public static void deleteTransaction() {
-        System.out.println("Enter transaction ID:");
+    private static void rechercherPrestataire() {
+        System.out.println("Enter prestataire ID: ");
         int id = sc.nextInt();
-        HistoriqueTransactionDAO.deleteTransaction(id);
+        sc.nextLine();
+        PrestataireDAO.findById(id);
     }
-}
+
+}
\ No newline at end of file
Index: src/Facture.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.sql.Date;\r\nimport java.sql.Timestamp;\r\n\r\npublic class Facture {\r\n    private int idFacture;\r\n    private Client client;\r\n    private Prestataire prestataire;\r\n    private double montantTotal;\r\n    private Statut statut;\r\n    private Date dateFacture;\r\n    private Timestamp dateCreation;\r\n\r\n    public Facture(int idFacture, Client client, Prestataire prestataire,\r\n                   double montantTotal, Statut statut, Date dateFacture, Timestamp dateCreation) {\r\n        this.idFacture = idFacture;\r\n        this.client = client;\r\n        this.prestataire = prestataire;\r\n        this.montantTotal = montantTotal;\r\n        this.statut = statut;\r\n        this.dateFacture = dateFacture;\r\n        this.dateCreation = dateCreation;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"Facture{id=\" + idFacture + \", client=\" + client +\r\n                \", prestataire=\" + prestataire + \", montant=\" + montantTotal +\r\n                \", statut=\" + statut + \", dateFacture=\" + dateFacture +\r\n                \", dateCreation=\" + dateCreation + \"}\";\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Facture.java b/src/Facture.java
--- a/src/Facture.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/Facture.java	(date 1771237978716)
@@ -21,6 +21,62 @@
         this.dateCreation = dateCreation;
     }
 
+    public int getIdFacture() {
+        return idFacture;
+    }
+
+    public void setIdFacture(int idFacture) {
+        this.idFacture = idFacture;
+    }
+
+    public Client getClient() {
+        return client;
+    }
+
+    public void setClient(Client client) {
+        this.client = client;
+    }
+
+    public Prestataire getPrestataire() {
+        return prestataire;
+    }
+
+    public void setPrestataire(Prestataire prestataire) {
+        this.prestataire = prestataire;
+    }
+
+    public double getMontantTotal() {
+        return montantTotal;
+    }
+
+    public void setMontantTotal(double montantTotal) {
+        this.montantTotal = montantTotal;
+    }
+
+    public Statut getStatut() {
+        return statut;
+    }
+
+    public void setStatut(Statut statut) {
+        this.statut = statut;
+    }
+
+    public Date getDateFacture() {
+        return dateFacture;
+    }
+
+    public void setDateFacture(Date dateFacture) {
+        this.dateFacture = dateFacture;
+    }
+
+    public Timestamp getDateCreation() {
+        return dateCreation;
+    }
+
+    public void setDateCreation(Timestamp dateCreation) {
+        this.dateCreation = dateCreation;
+    }
+
     @Override
     public String toString() {
         return "Facture{id=" + idFacture + ", client=" + client +
Index: src/PrestataireDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n    public class PrestataireDAO {\r\n\r\n        // ajouter prestataire\r\n        public void save(Prestataire prestataire) {\r\n            String sql = \"INSERT INTO prestataires (nom) VALUES (?)\";\r\n            try(Connection conn  = DatabaseConnection.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql))\r\n            {\r\n                ps.setString(1,prestataire.getName());\r\n                ps.executeUpdate();\r\n                System.out.println(\"Prestataire ajouté avec succès!\");\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n\r\n        }\r\n\r\n        // lister tous les prestataires\r\n        public List<Prestataire> findAll() {\r\n\r\n            List <Prestataire> prestataires = new ArrayList<>();\r\n            String sql= \"SELECT * FROM prestataires\";\r\n            try (Connection conn = DatabaseConnection.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql);\r\n            ResultSet rs = ps.executeQuery())\r\n            {\r\n                while (rs.next()){\r\n                    Prestataire p = new Prestataire(rs.getInt(\"id_prestataire\"), rs.getString(\"nom\"));\r\n                    prestataires.add(p);\r\n                }\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return  prestataires;\r\n        }\r\n\r\n        // rechercher prestataire par id\r\n\r\n        public Prestataire findById(int id) {\r\n            String sql = \"SELECT * FROM prestataires WHERE id_prestataire=?\";\r\n            try (Connection conn = DatabaseConnection.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql)){\r\n                ps.setInt(1,id);\r\n                try (ResultSet rs = ps.executeQuery()){\r\n                    if (rs.next()){\r\n                        return new Prestataire(\r\n                                rs.getInt(\"id_prestataire\"),\r\n                                rs.getString(\"nom\"));\r\n                    }\r\n\r\n                }\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        // mettre à jour un prestataire\r\n        public void update(Prestataire prestataire) {\r\n            String sql = \"UPDATE prestataires SET nom = ? WHERE id_prestataire =?\";\r\n            try(Connection conn = DatabaseConnection.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql)){\r\n                ps.setString(1, prestataire.getName());\r\n                ps.setInt(2,prestataire.getId());\r\n                ps.executeUpdate();\r\n\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n\r\n        // supprimer un prestataire\r\n        public void delete(int id) {\r\n\r\n            String sql = \"DELETE FROM prestataires WHERE id_prestataire=?\";\r\n            try (Connection conn = DatabaseConnection.getConnection();\r\n            PreparedStatement ps = conn.prepareStatement(sql)){\r\n                ps.setInt(1,id);\r\n                ps.executeUpdate();\r\n\r\n            } catch (SQLException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/PrestataireDAO.java b/src/PrestataireDAO.java
--- a/src/PrestataireDAO.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/PrestataireDAO.java	(date 1771237693795)
@@ -2,94 +2,110 @@
 import java.util.ArrayList;
 import java.util.List;
 
-    public class PrestataireDAO {
+public class PrestataireDAO {
 
-        // ajouter prestataire
-        public void save(Prestataire prestataire) {
-            String sql = "INSERT INTO prestataires (nom) VALUES (?)";
-            try(Connection conn  = DatabaseConnection.getConnection();
+    // ajouter prestataire
+    public static void save(String name) {
+        String sql = "INSERT INTO prestataires (nom) VALUES (?)";
+        try(Connection conn  = databaseConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql))
-            {
-                ps.setString(1,prestataire.getName());
-                ps.executeUpdate();
-                System.out.println("Prestataire ajouté avec succès!");
-
-            } catch (SQLException e) {
-                throw new RuntimeException(e);
-            }
+        {
+            ps.setString(1,name);
+            ps.executeUpdate();
+            findByName(name);
+        } catch (SQLException e) {
+            throw new RuntimeException(e);
+        }
 
-        }
+    }
 
-        // lister tous les prestataires
-        public List<Prestataire> findAll() {
+    // lister tous les prestataires
+    public static void findAll() {
 
-            List <Prestataire> prestataires = new ArrayList<>();
-            String sql= "SELECT * FROM prestataires";
-            try (Connection conn = DatabaseConnection.getConnection();
-            PreparedStatement ps = conn.prepareStatement(sql);
-            ResultSet rs = ps.executeQuery())
-            {
-                while (rs.next()){
-                    Prestataire p = new Prestataire(rs.getInt("id_prestataire"), rs.getString("nom"));
-                    prestataires.add(p);
-                }
+        List <Prestataire> prestataires = new ArrayList<>();
+        String sql= "SELECT * FROM prestataires";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql);
+             ResultSet rs = ps.executeQuery())
+        {
+            while (rs.next()){
+                Prestataire p = new Prestataire(rs.getInt("id_prestataire"), rs.getString("nom"));
+                prestataires.add(p);
+            }
 
-            } catch (SQLException e) {
-                throw new RuntimeException(e);
-            }
-            return  prestataires;
+        } catch (SQLException e) {
+            throw new RuntimeException(e);
+        }
+        System.out.println("=========All Prestataires========= \n");
+        for(Prestataire p: prestataires){
+            System.out.println("Prestataire id: " + p.getId());
+            System.out.println("Prestataire name: " + p.getName());
+            System.out.println("-----------------------------------------");
         }
+    }
 
-        // rechercher prestataire par id
+    // rechercher prestataire par id
 
-        public Prestataire findById(int id) {
-            String sql = "SELECT * FROM prestataires WHERE id_prestataire=?";
-            try (Connection conn = DatabaseConnection.getConnection();
-            PreparedStatement ps = conn.prepareStatement(sql)){
-                ps.setInt(1,id);
-                try (ResultSet rs = ps.executeQuery()){
-                    if (rs.next()){
-                        return new Prestataire(
-                                rs.getInt("id_prestataire"),
-                                rs.getString("nom"));
-                    }
-
-                }
-
-            } catch (SQLException e) {
-                throw new RuntimeException(e);
+    public static void findById(int id) {
+        String sql = "SELECT * FROM prestataires WHERE id_prestataire=?";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql)) {
+            ps.setInt(1, id);
+            ResultSet rs = ps.executeQuery();
+            if (rs.next()) {
+                System.out.println("=============Prestataire=============");
+                System.out.println( "prestataire id: " + rs.getInt("id_prestataire"));
+                System.out.println( "prestataire name: "+ rs.getString("nom"));
+            }
+        }
+        catch (SQLException e) {
+            e.printStackTrace();
+        }
+    }
+    public static void findByName(String name) {
+        String sql = "SELECT * FROM prestataires WHERE nom=?";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql)) {
+            ps.setString(1, name);
+            ResultSet rs = ps.executeQuery();
+            if (rs.next()) {
+                System.out.println("=============Prestataire added =============");
+                System.out.println( "prestataire id: " + rs.getInt("id_prestataire"));
+                System.out.println( "prestataire name: "+ rs.getString("nom"));
             }
-            return null;
         }
+        catch (SQLException e) {
+            e.printStackTrace();
+        }
+    }
 
-        // mettre à jour un prestataire
-        public void update(Prestataire prestataire) {
-            String sql = "UPDATE prestataires SET nom = ? WHERE id_prestataire =?";
-            try(Connection conn = DatabaseConnection.getConnection();
+    // mettre à jour un prestataire
+    public static void update(int id, String name) {
+        String sql = "UPDATE prestataires SET nom = ? WHERE id_prestataire =?";
+        try(Connection conn = databaseConnection.getConnection();
             PreparedStatement ps = conn.prepareStatement(sql)){
-                ps.setString(1, prestataire.getName());
-                ps.setInt(2,prestataire.getId());
-                ps.executeUpdate();
+            ps.setString(1,name);
+            ps.setInt(2,id);
+            ps.executeUpdate();
 
 
-            } catch (SQLException e) {
-                throw new RuntimeException(e);
-            }
-        }
+        } catch (SQLException e) {
+            throw new RuntimeException(e);
+        }
+    }
 
 
-        // supprimer un prestataire
-        public void delete(int id) {
+    // supprimer un prestataire
+    public static void delete(int id) {
 
-            String sql = "DELETE FROM prestataires WHERE id_prestataire=?";
-            try (Connection conn = DatabaseConnection.getConnection();
-            PreparedStatement ps = conn.prepareStatement(sql)){
-                ps.setInt(1,id);
-                ps.executeUpdate();
+        String sql = "DELETE FROM prestataires WHERE id_prestataire=?";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql)){
+            ps.setInt(1,id);
+            ps.executeUpdate();
 
-            } catch (SQLException e) {
-                throw new RuntimeException(e);
-            }
-        }
-    }
-
+        } catch (SQLException e) {
+            throw new RuntimeException(e);
+        }
+    }
+}
Index: src/FactureDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class FactureDAO {\r\n    public static void addFacture(int idClient, int idPrestataire, double montant, Statut statut, Date dateFacture) {\r\n        String sql = \"INSERT INTO factures (id_client, id_prestataire, montant_total, statut, date_facture) VALUES (?, ?, ?, ?, ?)\";\r\n        try (Connection conn = databaseConnection.getConnection();\r\n             PreparedStatement ps = conn.prepareStatement(sql)) {\r\n            ps.setInt(1, idClient);\r\n            ps.setInt(2, idPrestataire);\r\n            ps.setDouble(3, montant);\r\n            ps.setString(4, statut.name());\r\n            ps.setDate(5, dateFacture);\r\n            ps.executeUpdate();\r\n            System.out.println(\"Facture added successfully!\");\r\n        } catch (SQLException e) { e.printStackTrace(); }\r\n    }\r\n\r\n    public static List<Facture> getAllFactures() {\r\n        List<Facture> factures = new ArrayList<>();\r\n        String sql = \"SELECT * FROM factures\";\r\n        try (Connection conn = databaseConnection.getConnection();\r\n             Statement st = conn.createStatement();\r\n             ResultSet rs = st.executeQuery(sql)) {\r\n            while (rs.next()) {\r\n                factures.add(new Facture(\r\n                        rs.getInt(\"id_facture\"),\r\n                        null, null,\r\n                        rs.getDouble(\"montant_total\"),\r\n                        Statut.valueOf(rs.getString(\"statut\")),\r\n                        rs.getDate(\"date_facture\"),\r\n                        rs.getTimestamp(\"date_creation\")\r\n                ));\r\n            }\r\n        } catch (SQLException e) { e.printStackTrace(); }\r\n        return factures;\r\n    }\r\n\r\n    public static void updateFactureStatut(int id, Statut newStatut) {\r\n        String sql = \"UPDATE factures SET statut=? WHERE id_facture=?\";\r\n        try (Connection conn = databaseConnection.getConnection();\r\n             PreparedStatement ps = conn.prepareStatement(sql)) {\r\n            ps.setString(1, newStatut.name());\r\n            ps.setInt(2, id);\r\n            ps.executeUpdate();\r\n            System.out.println(\"Facture statut updated successfully!\");\r\n        } catch (SQLException e) { e.printStackTrace(); }\r\n    }\r\n\r\n    public static void deleteFacture(int id) {\r\n        String sql = \"DELETE FROM factures WHERE id_facture=?\";\r\n        try (Connection conn = databaseConnection.getConnection();\r\n             PreparedStatement ps = conn.prepareStatement(sql)) {\r\n            ps.setInt(1, id);\r\n            ps.executeUpdate();\r\n            System.out.println(\"Facture deleted successfully!\");\r\n        } catch (SQLException e) { e.printStackTrace(); }\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/FactureDAO.java b/src/FactureDAO.java
--- a/src/FactureDAO.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/FactureDAO.java	(date 1771237841853)
@@ -17,7 +17,7 @@
         } catch (SQLException e) { e.printStackTrace(); }
     }
 
-    public static List<Facture> getAllFactures() {
+    public static void getAllFactures() {
         List<Facture> factures = new ArrayList<>();
         String sql = "SELECT * FROM factures";
         try (Connection conn = databaseConnection.getConnection();
@@ -33,8 +33,18 @@
                         rs.getTimestamp("date_creation")
                 ));
             }
-        } catch (SQLException e) { e.printStackTrace(); }
-        return factures;
+        } catch (SQLException e) {
+            e.printStackTrace();
+        }
+        System.out.println("=========All Factures========= \n");
+        for (Facture f : factures) {
+            System.out.println("Facture id: " + f.getIdFacture());
+            System.out.println("Amount operation: " + f.getMontantTotal());
+            System.out.println("Creation date: " + f.getDateCreation());
+            System.out.println("Invoice date: " + f.getDateFacture());
+            System.out.println("Status Payment: " + f.getStatut());
+            System.out.println("-----------------------------------------");
+        }
     }
 
     public static void updateFactureStatut(int id, Statut newStatut) {
@@ -55,6 +65,87 @@
             ps.setInt(1, id);
             ps.executeUpdate();
             System.out.println("Facture deleted successfully!");
-        } catch (SQLException e) { e.printStackTrace(); }
-    }
+        } catch (SQLException e) {
+            e.printStackTrace();
+        }
+    }
+
+    public static void searchFacturesByStatut(String statut) {
+        List<Facture> factures = new ArrayList<>();
+        String sql = "SELECT * FROM factures WHERE statut=?";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql)) {
+            ps.setString(1, statut);
+            ResultSet rs = ps.executeQuery();
+            while (rs.next()) {
+                factures.add(new Facture(
+                        rs.getInt("id_facture"), null, null,
+                        rs.getDouble("montant_total"),
+                        Statut.valueOf(rs.getString("statut")),
+                        rs.getDate("date_facture"),
+                        rs.getTimestamp("date_creation") ));
+            }
+        }
+        catch (SQLException e) {
+            e.printStackTrace();
+        }
+        System.out.println("=========Factures========= \n");
+        for (Facture f : factures) {
+            System.out.println("facture id: " +f.getIdFacture());
+            System.out.println("montant total: " +f.getMontantTotal());
+            System.out.println("facture status: " +f.getStatut());
+            System.out.println("Date creation: " +f.getDateCreation());
+            System.out.println("-----------------------------------------");
+        }
+    }
+    public static Facture findFactureById(int id) {
+        String sql = "SELECT * FROM factures WHERE id_facture=?";
+        try (Connection conn = databaseConnection.getConnection();
+             PreparedStatement ps = conn.prepareStatement(sql)) {
+            ps.setInt(1, id);
+            ResultSet rs = ps.executeQuery();
+            if (rs.next()) {
+                return new Facture(
+                        rs.getInt("id_facture"),
+                        null,
+                        null,
+                        rs.getDouble("montant_total"),
+                        Statut.valueOf(rs.getString("statut")),
+                        rs.getDate("date_facture"),
+                        rs.getTimestamp("date_creation")
+                );
+            }
+        } catch (SQLException e) {
+            e.printStackTrace();
+        }
+        return null;
+    }
+    public static double getTotalFacturesPayee() {
+        String sql = "SELECT SUM(montant_total) AS total FROM factures WHERE statut='PAYEE'";
+        try (Connection conn = databaseConnection.getConnection();
+             Statement st = conn.createStatement();
+             ResultSet rs = st.executeQuery(sql)) {
+            if (rs.next()) {
+                return rs.getDouble("total");
+            }
+        } catch (SQLException e) {
+            e.printStackTrace();
+        }
+        return 0.0;
+    }
+
+    public static double getTotalFacturesNonPayee() {
+        String sql = "SELECT SUM(montant_total) AS total FROM factures WHERE statut='NON_PAYEE'";
+        try (Connection conn = databaseConnection.getConnection();
+             Statement st = conn.createStatement();
+             ResultSet rs = st.executeQuery(sql)) {
+            if (rs.next()) {
+                return rs.getDouble("total");
+            }
+        } catch (SQLException e) {
+            e.printStackTrace();
+        }
+        return 0.0;
+    }
+
 }
\ No newline at end of file
Index: src/PaymentDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.sql.*;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class PaymentDAO {\r\n\r\n\r\n    public static void addPayment(int idFacture, double montantPaye, double commission) {\r\n        String sql = \"INSERT INTO paiements (id_facture, montant_paye, commission_finpay) VALUES (?, ?, ?)\";\r\n\r\n        try (Connection connection = databaseConnection.getConnection();\r\n             PreparedStatement pstmt = connection.prepareStatement(sql)) {\r\n\r\n            pstmt.setInt(1, idFacture);\r\n            pstmt.setDouble(2, montantPaye);\r\n            pstmt.setDouble(3, commission);\r\n\r\n            int rows = pstmt.executeUpdate();\r\n            if (rows > 0) {\r\n                System.out.println(\"Payment added successfully!\");\r\n            }\r\n        } catch (SQLException e) {\r\n            System.err.println(\"Error adding payment: \" + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public static void getAllPayments() {\r\n        List<Payment> payments = new ArrayList<>();\r\n        String sql = \"SELECT * FROM paiements\";\r\n\r\n        try (Connection connection = databaseConnection.getConnection();\r\n             Statement stm = connection.createStatement();\r\n             ResultSet resultSet = stm.executeQuery(sql)) {\r\n\r\n            while (resultSet.next()) {\r\n                int id_paiement = resultSet.getInt(\"id_paiement\");\r\n                int id_facture = resultSet.getInt(\"id_facture\");\r\n                double montant_paye = resultSet.getDouble(\"montant_paye\");\r\n                double commission_finpay = resultSet.getDouble(\"commission_finpay\");\r\n                Timestamp date_paiement = resultSet.getTimestamp(\"date_paiement\");\r\n\r\n                // Here you could fetch Facture details if needed\r\n                Payment payment = new Payment(id_paiement, null, date_paiement, montant_paye, commission_finpay);\r\n                payments.add(payment);\r\n            }\r\n        } catch (SQLException e) {\r\n            System.err.println(\"Error displaying payments: \" + e.getMessage());\r\n        }\r\n\r\n        for (Payment p : payments) {\r\n            System.out.println(p);\r\n        }\r\n    }\r\n\r\n\r\n    public static void updatePayment(int idPaiement, double newMontant, double newCommission) {\r\n        String sql = \"UPDATE paiements SET montant_paye = ?, commission_finpay = ? WHERE id_paiement = ?\";\r\n\r\n        try (Connection connection = databaseConnection.getConnection();\r\n             PreparedStatement pstmt = connection.prepareStatement(sql)) {\r\n\r\n            pstmt.setDouble(1, newMontant);\r\n            pstmt.setDouble(2, newCommission);\r\n            pstmt.setInt(3, idPaiement);\r\n\r\n            int rows = pstmt.executeUpdate();\r\n            if (rows > 0) {\r\n                System.out.println(\"Payment updated successfully!\");\r\n            }\r\n        } catch (SQLException e) {\r\n            System.err.println(\"Error updating payment: \" + e.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/PaymentDAO.java b/src/PaymentDAO.java
--- a/src/PaymentDAO.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/PaymentDAO.java	(date 1771237084197)
@@ -24,7 +24,7 @@
         }
     }
 
-    public static void getAllPayments() {
+    public static List<Payment> getAllPayments() {
         List<Payment> payments = new ArrayList<>();
         String sql = "SELECT * FROM paiements";
 
@@ -50,6 +50,7 @@
         for (Payment p : payments) {
             System.out.println(p);
         }
+        return payments;
     }
 
 
Index: src/DatabaseConnection.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>import java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.SQLException;\r\nimport java.util.Properties;\r\n\r\n    public class DatabaseConnection {\r\n\r\n        private static final Properties props = new Properties();\r\n\r\n        static {\r\n            try {\r\n                props.load(new FileInputStream(\"config.properties\"));\r\n            } catch (IOException e) {\r\n                System.err.println(\"Erreur lors du chargement du fichier config.properties\");\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        public static Connection getConnection() throws SQLException {\r\n            String url = props.getProperty(\"db.url\");\r\n            String user = props.getProperty(\"db.user\");\r\n            String password = props.getProperty(\"db.password\");\r\n            return DriverManager.getConnection(url, user, password);\r\n        }\r\n    }\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/DatabaseConnection.java b/src/DatabaseConnection.java
--- a/src/DatabaseConnection.java	(revision f4e9ce01f46f4ac630707146fc4c95b55b78cd89)
+++ b/src/DatabaseConnection.java	(date 1770914302062)
@@ -1,29 +1,23 @@
-import java.io.FileInputStream;
-import java.io.IOException;
 import java.sql.Connection;
 import java.sql.DriverManager;
 import java.sql.SQLException;
-import java.util.Properties;
 
-    public class DatabaseConnection {
+public class databaseConnection {
+    private static final String URL = "jdbc:mysql://localhost:3306/finpay_db";
+    private static final String USER = "root";
+    private static final String PASSWORD = "123454321";
 
-        private static final Properties props = new Properties();
+    private static Connection connection = null;
 
-        static {
-            try {
-                props.load(new FileInputStream("config.properties"));
-            } catch (IOException e) {
-                System.err.println("Erreur lors du chargement du fichier config.properties");
-                e.printStackTrace();
-            }
-        }
+    public static Connection getConnection() {
+        try {
+            connection = DriverManager.getConnection(URL, USER, PASSWORD);
+            System.out.println("Database connected successfully!");
+        } catch (SQLException e) {
+            System.err.println("Connection failed! " + e.getMessage());
+            e.printStackTrace();
+        }
+        return connection;
+    }
 
-        public static Connection getConnection() throws SQLException {
-            String url = props.getProperty("db.url");
-            String user = props.getProperty("db.user");
-            String password = props.getProperty("db.password");
-            return DriverManager.getConnection(url, user, password);
-        }
-    }
-
-
+}
Index: src/Historique.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/Historique.java b/src/Historique.java
new file mode 100644
--- /dev/null	(date 1771237084237)
+++ b/src/Historique.java	(date 1771237084237)
@@ -0,0 +1,3 @@
+public class Historique {
+
+}
Index: src/HistoriqueTransactionDAO.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/HistoriqueTransactionDAO.java b/src/HistoriqueTransactionDAO.java
new file mode 100644
--- /dev/null	(date 1771237084208)
+++ b/src/HistoriqueTransactionDAO.java	(date 1771237084208)
@@ -0,0 +1,2 @@
+public class HistoriqueTransactionDAO {
+}
